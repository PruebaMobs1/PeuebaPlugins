RecCPrepareModelSomar:
  Skills:
  - variableUnset{var=world.catapultas;t=Integer}
  - setvariable{var=world.catapultas;t=Integer;val=0;save=true}
  - setvariable{var=caster.tempPriori;val=0}
#  - skill{s=obtenerNevaVarPriori}

obtenerNevaVarPriori:
  Skills:
  - variableadd{var=world.catapultas;t=Integer;a=1}
  - setvariable{var=target.priori;type=INTEGER;value=<world.var.catapultas>} @Self

AvisOrdenaVariabP: #variableprioridad
#  Conditions:
#  - comparevalues{value1="<caster.var.priori>";type=Integer;operator=>;value2="<target.var.priori>"}
  TargetConditions:
  - isMythicMob true
  - variableisset{s=caster;var=priori}
  Skills:
  - message{m="la variable coincide"}
#  - variablesubtract{}
  - projectile{bullet=block;material=STONE}
  - SudoSkill{s=restarVariabP;setcasterastrigger=true;sync=true}

#ReordenarVariabP: #En caso peculiar de que el reclutador muera (recordar condicion del hueso en inventario, por ejemplo)
  Skills:
  
restarVariabP:
 Conditions:
  - isMythicMob true
  - variableisset{var=target.priori;type=integer}
  - variableInRange{var=caster.priori;value=><trigger.var.priori>}
 Skills:
  - message{m="Me enviaron <trigger.var.priori> y es menor que el mio"} @NearestPlayer
#  - variablesubtract{}
  - projectile{bullet=block;material=STONE} @trigger
  - variablesubtract{var=caster.priori;type=INTEGER;a=1} @Self

restarVariabPGlobal:
#  Conditions:
#  - variableInRange{var=caster.priori;value=>0}
  Skills:
  - variablesubtract{var=world.catapultas;type=INTEGER;a=1} @Self

CrearVarPriori:
  Conditions:
  - variableisset{s=world;var=priori} castInstead ObtenerVarPriori
  Skills:
  - variablesubtract{var=world.catapultas;type=INTEGER;a=1} @Self

RotarPrioridad:
  Conditions:
  - variableInRange{var=caster.tempPriori;val=<<world.var.catapultas>} orElseCast resetearPriori
  Skills:
  - variableadd{var=caster.tempPriori;val=1} @self
  - delay 0
  - msg{m=variableRotada prioridad> <caster.var.tempPriori>} @NearestPlayer

resetearPriori:
  Skills:
  - setvariable{var=caster.tempPriori;type=INTEGER;value=0}
RecCfiltrarDano:
  TriggerConditions:
  - itemissimilar{item=bone} false
  Skills:
  - cancelevent


